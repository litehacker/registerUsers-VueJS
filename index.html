<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<style>
    /* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}
</style>
<body>

    
    <div id="app">

        <div class="container pt-5 ">
            <h1 class="d-flex justify-content-center">{{hello}}</h1>

            <form class="bg-light rounded p-3 " name="registration">
                <div class="row justify-content-center">
                    <div class="col-md">
                        <div class="form-group col-sm">
                            <label for="firstName">სახელი</label>
                            <input type="text" class="form-control" id="firstName" placeholder="შეიყვანიეთ სახელი" required>
                            <label for="lastName">გვარი</label>
                            <input type="text" class="form-control" id="lastName" placeholder="შეიყვანეთ გვარი" required>
                            <label for="IDnumber">ID</label>
                            <input type="number" class="form-control" id="IDnumber" placeholder="11 ციფრისგან შედგება" min="10000000000" max="99999999999" step="1" required>
                            
                        </div>
                    </div>
                    <div class="col-md">
                        <div class="form-group col-sm">
                            <label for="gender" placeholder="asd">სქესი</label>
                            <select class="form-control" id="gender" required>
                                <option value="" disabled selected>კაცი/ქალი</option>
                                <option>კაცი</option>
                                <option>ქალი</option>
                            </select>
                            <label for="birthDate" class="mt-2">დაბადების თარიღი:</label>
                            <input type="date" id="birthDate" name="birthDate" value="2000-01-01"> </br>
                            <button type="button" class="btn btn-primary mt-2" onclick="insert('string')">რეგისტრაცია</button>
                        </div>
                    </div>
                </div>
                
                
            </form>
        </div>
    </div>

    <script>
        new Vue({
            el:'#app',
            data(){
                return {
                    hello:'რეგისტრაციის გვერდი'
                }
            }
        })
    </script>
    <script src="./src/js/formValidation.js"></script>

    <script>
        function insert() {
            if(validation(
                document.forms["registration"]["firstName"].value,
                document.forms["registration"]["lastName"].value,
                document.forms["registration"]["IDnumber"].value,
                document.forms["registration"]["gender"].value,
                document.forms["registration"]["birthDate"].value
                ))

            fetch("/insert", {
                method: "POST",
                body: JSON.stringify({ "firstName": firstName, "lastName": lastName, "IDnumber": IDnumber, "gender": gender, "birthDate": birthDate, }),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(r => r.json()).then(r => console.log(r)).catch(e => console.log(e))

        }
    </script>
    <script src="http://unpkg.com/vue"></script>
    <script src="http://unpkg.com/vuex"></script>

</body>

</html>